<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>API Example: Camera Offset - Voyager Documentation</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://smithsonian.github.io/dpo-voyager/favicon.ico">

  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

  
  
  <link rel="stylesheet" href="/dpo-voyager/css/style.min.css">
  

  

</head>

<body class='page page-default-list'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/dpo-voyager/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-introduction">
      <a href="/dpo-voyager/introduction/">
        <span>Introduction</span>
      </a>
    </li>
    
    <li class="menu-item-explorer">
      <a href="/dpo-voyager/explorer/">
        <span>Explorer</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="/dpo-voyager/explorer/api">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-story">
      <a href="/dpo-voyager/story/">
        <span>Story</span>
      </a>
    </li>
    
    <li class="menu-item-svx">
      <a href="/dpo-voyager/document/">
        <span>SVX</span>
      </a>
    </li>
    
    <li class="menu-item-github" title="Smithsonian Cook on Github">
      <a href="https://github.com/smithsonian/dpo-voyager"><img src="/dpo-voyager/images/github.svg" alt="Github"></a>
    </li>
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://smithsonian.github.io/dpo-voyager"><img alt="Logo" src="/dpo-voyager/images/voyager-neg.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://smithsonian.github.io/dpo-voyager"><img alt="Logo" src="/dpo-voyager/images/voyager-neg.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/dpo-voyager/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-introduction">
      <a href="/dpo-voyager/introduction/">
        <span>Introduction</span>
      </a>
    </li>
    
    <li class="menu-item-explorer">
      <a href="/dpo-voyager/explorer/">
        <span>Explorer</span>
      </a>
    </li>
    
    <li class="menu-item-api">
      <a href="/dpo-voyager/explorer/api">
        <span>API</span>
      </a>
    </li>
    
    <li class="menu-item-story">
      <a href="/dpo-voyager/story/">
        <span>Story</span>
      </a>
    </li>
    
    <li class="menu-item-svx">
      <a href="/dpo-voyager/document/">
        <span>SVX</span>
      </a>
    </li>
    
    <li class="menu-item-github" title="Smithsonian Cook on Github">
      <a href="https://github.com/smithsonian/dpo-voyager"><img src="/dpo-voyager/images/github.svg" alt="Github"></a>
    </li>
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
      
    
      
        
      
    
      
    
      
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            

<div class="docs-menu">
  <h4><a href="/dpo-voyager/introduction/">Introduction</a></h4>
  <ul>
    
    <li class="">
      <a href="/dpo-voyager/introduction/getting-started/">Quickstart Guide</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/introduction/installation/">How To: Install and Build Voyager</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/introduction/hosting/">How To: Host a prebuilt Voyager release</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/introduction/demo-assets/">Demo Assets</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/introduction/license/">License</a>
    </li>
		
    
  </ul>
</div>

<div class="docs-menu">
  <h4><a href="/dpo-voyager/explorer/">Explorer</a></h4>
  <ul>
    
    <li class="">
      <a href="/dpo-voyager/explorer/overview/">Overview</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/usage/">How To: Embed a model on your site</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/scene-create/">How To: Create a scene file</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/offline/">How To: Use the component offline</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/branding/">How To: Customize Voyager branding</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/api/">API Overview</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/explorer/api-examples/">API Examples</a>
    </li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/annotations/">API Example: Annotations</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/articles/">API Example: Articles</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/background/">API Example: Background Properties</a>
		</li>
		
		<li style="padding-left: 15px" class="active ">
		  <a href="/dpo-voyager/explorer/api-examples/camera-offset/">API Example: Camera Offset</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/camera-orbit/">API Example: Camera Orbit</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/get-content/">API Example: Get Content</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/language/">API Example: Set Language</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/toggles/">API Example: Toggle Displays</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/tours/">API Example: Tours</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/explorer/api-examples/ui-config/">API Example: UI Configuration</a>
		</li>
		
    
  </ul>
</div>

<div class="docs-menu">
  <h4><a href="/dpo-voyager/story/">Story</a></h4>
  <ul>
    
    <li class="">
      <a href="/dpo-voyager/story/overview/">Overview</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/story/launch/">How To: Launch the app</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/story/usage/">How To: Use the app</a>
    </li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/pose-task/">Pose Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/capture-task/">Capture Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/derivatives-task/">Derivatives Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/settings-task/">Settings Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/annotations-task/">Annotations Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/articles-task/">Articles Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/tours-task/">Tours Task</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/language-support/">Multilingual Support</a>
		</li>
		
		<li style="padding-left: 15px" class="">
		  <a href="/dpo-voyager/story/usage/scene-name/">Scene Title</a>
		</li>
		
    
  </ul>
</div>

<div class="docs-menu">
  <h4><a href="/dpo-voyager/document/">SVX Document Format</a></h4>
  <ul>
    
    <li class="">
      <a href="/dpo-voyager/document/overview/">Overview</a>
    </li>
		
    
    <li class="">
      <a href="/dpo-voyager/document/example/">Example</a>
    </li>
		
    
  </ul>
</div>


          </div>
        </div>
        <div class="col-12 col-md-9">
          

  
  <h1 class="title">API Example: Camera Offset</h1>
  <div class="content">
    <h4 id="try-it-out">Try it out:</h4>
<p><link href="https://cdn.jsdelivr.net/gh/smithsonian/dpo-voyager@latest/assets/fonts/fonts.css" rel="stylesheet">
<script type="text/javascript" src="https://3d-api.si.edu/resources/js/voyager-explorer.min.js"></script>
<script>
var l ="https://3d-api.si.edu/content/document/"+"d8c636ce-4ebc-11ea-b77f-2e728ce88125"+"/";
document.addEventListener("DOMContentLoaded", function(){
    document.getElementById("explorer_wrapper").innerHTML = "<voyager-explorer id='voyager' style='display: block; position: relative; height: 450px'"+""+"root='"+l+"' document='document.json'></voyager-explorer>";
});
</script>
<div id="explorer_wrapper" width="600" height="450">
</div>
<script>
function updateUI(textInput) {
	window.location = window.location.pathname + "?uiMode=" + textInput.value;
}
function setBackgroundColor(color0,color1) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setBackgroundColor(color0.value, color1.value);
}
function setBackgroundStyle(style) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setBackgroundStyle(style.value);
}
function toggleAnnotations() {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.toggleAnnotations();
}
function toggleReader() {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.toggleReader();
}
function toggleTours() {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.toggleTours();
}
function toggleTools() {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.toggleTools();
}
function getCameraOrbit(displayElement) {
	var voyagerElement = document.getElementById("voyager");
	const orbitAngles = voyagerElement.getCameraOrbit();
	
	displayElement.innerText = "Yaw: " + orbitAngles[0] + "	Pitch: " + orbitAngles[1];
}
function setCameraOrbit(yaw, pitch) {
	var voyagerElement = document.getElementById("voyager");	
	voyagerElement.setCameraOrbit(yaw.value, pitch.value);
}
function getCameraOffset(displayElement) {
	var voyagerElement = document.getElementById("voyager");
	const offset = voyagerElement.getCameraOffset();
	
	displayElement.innerText = "X: " + offset[0].toFixed(3) + "	Y: " + offset[1].toFixed(3) + "	Z: " + offset[2].toFixed(3);
}
function setCameraOffset(x, y, z) {
	var voyagerElement = document.getElementById("voyager");	
	voyagerElement.setCameraOffset(x.value, y.value, z.value);
}
function getArticles(displayElement) {
	var voyagerElement = document.getElementById("voyager");
	const articles = voyagerElement.getArticles();

	var articleNames = "";
	articles.forEach(article => {
		articleNames += article.title.length > 0 ? article.title : article.titles["EN"];
		articleNames += " | ";
	});
  
	displayElement.innerText = articleNames;
}
function getAnnotations(displayElement) {
	var voyagerElement = document.getElementById("voyager");
	const annotations = voyagerElement.getAnnotations();

	var annotationNames = "";
	annotations.forEach(annotation => {
		annotationNames += "[id: " + annotation.id + " title: " + annotation.title + "]";
		annotationNames += " | ";
	});
  
	displayElement.innerText = annotationNames;
}
function setActiveAnnotation(id) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setActiveAnnotation(id.value);
}
function setActiveArticle(id) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setActiveArticle(id.value);
}
function setTourStep(stepIdx) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setTourStep(0, stepIdx.value, true);
}
function setLanguage(language) {
	var voyagerElement = document.getElementById("voyager");
	voyagerElement.setLanguage(language.value);
}
</script>  <!-- raw HTML omitted --></p>
<p>Orient the scene above to the desired view and then click the button below to get the current offset values.</p>
<div style="text-align: center" id=offset-wrapper>

	<button class="sc-button" style="display: inline-block;" onclick=getCameraOffset(offsetDisplay)>Get Camera Offset</button>


</div>
<p><div style="text-align: center" id=offsetDisplay>

</div>  <!-- raw HTML omitted --></p>
<p>Enter offset values in the boxes below and click the button to immediately update the camera offset in the example. Values outside of the limits imposed by the scene will be clamped to the min/max.</p>
<p><div style="text-align: center">
	
	
	
	<label style="display: inline-block;" for=X>X:</label>
	<input class="sc-param" style="display: inline-block;" id=X></input>
	
	<label style="display: inline-block;" for=Y>Y:</label>
	<input class="sc-param" style="display: inline-block;" id=Y></input>
	
	<label style="display: inline-block;" for=Z>Z:</label>
	<input class="sc-param" style="display: inline-block;" id=Z></input>
	
	<button class="sc-button" style="display: inline-block;" onclick=setCameraOffset(X,Y,Z)>Set Camera Offset</button>
</div>  <!-- raw HTML omitted --></p>
<h4 id="how-it-works">How it works:</h4>
<p>See the annotated javascript from this page below for one way to use the <a href="../../api">&lsquo;get&rsquo; and &lsquo;set&rsquo; camera offset functions</a>.</p>
<p>Getting and displaying camera offset:
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">getCameraOffset</span><span class="p">(</span><span class="nx">displayElement</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// Get Explorer element by id
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">voyagerElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;voyager&#34;</span><span class="p">);</span>
	<span class="c1">// Call getCameraOffset() on the object and store the resulting array
</span><span class="c1"></span>	<span class="kr">const</span> <span class="nx">offset</span> <span class="o">=</span> <span class="nx">voyagerElement</span><span class="p">.</span><span class="nx">getCameraOffset</span><span class="p">();</span>
	
	<span class="c1">// Format the offset values and assign to the inner 
</span><span class="c1"></span>	<span class="c1">// text of the passed in display element
</span><span class="c1"></span>	<span class="nx">displayElement</span><span class="p">.</span><span class="nx">innerText</span> <span class="o">=</span> <span class="s2">&#34;X: &#34;</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&#34;	Y: &#34;</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&#34;	Z: &#34;</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<p>Setting new camera offset values:
<div class="highlight"><pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">setCameraOffset</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span> <span class="p">{</span>
	<span class="c1">// Get Explorer element by id
</span><span class="c1"></span>	<span class="kd">var</span> <span class="nx">voyagerElement</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;voyager&#34;</span><span class="p">);</span>	
	<span class="c1">// Call setCameraOffset() on the object with the values
</span><span class="c1"></span>	<span class="c1">// of the x, y, and z input elements as params
</span><span class="c1"></span>	<span class="nx">voyagerElement</span><span class="p">.</span><span class="nx">setCameraOffset</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">y</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span> <span class="nx">z</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>

  </div>

  


        </div>
      </div>
    </div>
    
  </div>

  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
          <a href="https://3d.si.edu" target="_blank"><img class="si-logo" src="/dpo-voyager/images/si-digitization-logo-neg.svg" alt="Smithsonian Digitization Logo"></a>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/dpo-voyager/js/scripts.min.js"></script>
  

  
  
  
    
  


</body>

</html>
